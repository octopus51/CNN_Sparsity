# CNN稀疏化项目使用说明

## 项目文件
- `cnn_mnist.py`: 原始CNN模型实现
- `cnn_mnist_sparse.py`: 稀疏CNN模型实现
- `项目总结报告.md`: 详细的项目报告和结果分析
- `mnist.npz`: MNIST数据集文件

## 快速开始

### 1. 导入模型
```python
from cnn_mnist import CNN
from cnn_mnist_sparse import SparseCNN
```

### 2. 加载数据
```python
from cnn_mnist_sparse import load_and_preprocess_mnist

# 加载小数据集进行测试
x_train, y_train, x_test, y_test = load_and_preprocess_mnist(use_small_data=True)
```

### 3. 创建和训练模型
```python
# 创建原始模型
original_model = CNN(input_shape=(1, 28, 28, 1), num_classes=10)

# 创建稀疏模型
sparse_model = SparseCNN(input_shape=(1, 28, 28, 1), num_classes=10)

# 训练稀疏模型
sparse_model.train(x_train, y_train, x_test, y_test, epochs=5)

# 获取稀疏性
sparsity = sparse_model._get_current_sparsity()
print(f"模型稀疏性: {sparsity:.2%}")
```

### 4. 模型评估
```python
# 预测
predictions = sparse_model.predict(x_test)

# 评估
accuracy = sparse_model.evaluate(x_test, y_test)
print(f"测试准确率: {accuracy:.4f}")
```

## 核心特性

### 稀疏化效果
- 参数量减少约37%
- 训练速度提升约35%
- 稀疏性达到约60%
- 性能基本保持不变

### 支持功能
- 完整的前向传播和反向传播
- 梯度下降优化
- 模型评估和预测
- 实时稀疏性监控

## 注意事项
- 模型专为MNIST数据集设计
- 支持自定义稀疏率
- 训练过程中会自动调整稀疏性
- 适合在计算资源受限的环境中部署